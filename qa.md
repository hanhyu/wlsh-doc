#### 常见问题

> 推荐: 前端使用vue、业务中间件使用swoole、后端数据处理使用golang，这种搭配形式发挥出各自语言的特性。

## 开启请求慢日志

下面记录一次排查问题的流程:

1、在发送SIGUSR1信号重启服务的情况下，再向主进程pid发送SIGTERM信号后停止不了服务，发现总有一个进程信号还是处于S状态不能成功停止服务
，其他worker进程都是处于正常Z状态;

2、正常启动服务后，中间不进行SIGUSR1重启操作，再向主进程pid发送SIGTERM信号发现可以正常停止服务;

3、重复多次SIGUSR1信号，就会对应有多次S状态的进程不会变成Z状态，且这几个S状态进程只能发送SIGKILL信号才能变成Z状态;

4、最后检查发现由于开启了异步重启特性造成的，设置reload_async参数为true时，在协程模式下底层会额外增加一个协程数量的检测，
当前无任何协程时进程才会退出;

5、又经过多次测试，发现配置参数request_slowlog_file与reload_async两者只能开启其中一个，难道是这两个参数冲突;

6、经过把参数request_slowlog_file值设为null时，测试两个参数可以同时开启了，这时才真正找到根本原因是慢日志路径造成的;

7、把参数request_slowlog_file的值路径文件权限设为777,还是重启后停止不了服务，文件路径设为绝对路径时不用常量直接设为固定路径一样不行;

8、最终实在不知怎么排查了，只能去官网文档看看资料说明，终于在request_slowlog_file的注意事项中找到答案：
**仅在同步阻塞的程序中有效，请勿使用与协程和异步回调的服务器中**

## 开启HTTP2协议
开启http2.0时，request方法server数组比http1.1少了两个参数：path_info与master_time。

## 更多问题稍后汇总出来
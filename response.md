#### 统一接口响应数据结构

## websocket协议响应格式

```
{
    "code": 200,
    "uri": "ws/index/login",
    "msg": "",
    "data": {
        "uid": "1",
        "content": "你好，wlsh。",
        "time": "2018-10-15 21:37:37"
    }
}
```

> code字段是返回状态码，200表示成功；uri字段是供ws协议路由使用; msg字段接口提示信息; data字段是项目提供的业务数据，由接口开发人员定义。

* 返回状态码 code

返回状态码code，用于表示接口响应的情况。参照自HTTP的状态码（并非严格按照其含义），code主要分为四大类：正常响应、重定向、非法请求与客户端参数验证错误、服务器错误。

| 分类 | code值 | 说明 |
| :------| ------ | :------ |
| 正常响应 | 2xx | 表示接口服务正常响应 |
| 重定向 | 3xx | 表示重定向 |
| 非法请求 | 4xx | 表示客户端请求路由非法或请求参数错误 |
| 服务器错误 | 5xx | 表示服务端内部错误 |

> 正常响应时，通常返回code = 200，并且同时返回data部分的业务数据，以便客户端能实现所需要的业务功能。

* 路由数据 uri

路由数据uri字段是供ws协议路由使用，由接口开发人员双方自定义数据内容。

* 提示信息 msg

接口数据内容提示信息，由接口开发人员双方自定义数据内容。

* 业务数据 data

业务数据data为接口和客户端主要沟通对接的数据部分，可以为任何类型，由接口开发人员定义。

## http协议响应格式

```
{
    "code": 400,
    "msg":"用户名或密码错误"
    "data":[]
}
```
